---
layout: default
title: Games Y'all
---

{% comment %}
Find the most relevant event with priority order:
1. Events happening today (same date)
2. Future events (after today) 
3. Most recent past events (before today)
{% endcomment %}

{% assign today_events = "" | split: "" %}
{% assign future_events = "" | split: "" %}
{% assign past_events = "" | split: "" %}

{% comment %}Get today's date as YYYY-MM-DD string for comparison{% endcomment %}
{% assign today_date = site.time | date: "%Y-%m-%d" %}

{% for event in site.events %}
  {% assign event_date = event.date | date: "%Y-%m-%d" %}
  
  {% if event_date == today_date %}
    {% assign today_events = today_events | push: event %}
  {% elsif event_date > today_date %}
    {% assign future_events = future_events | push: event %}
  {% else %}
    {% assign past_events = past_events | push: event %}
  {% endif %}
{% endfor %}

{% comment %}Sort each category by date{% endcomment %}
{% assign today_events = today_events | sort: 'date' %}
{% assign future_events = future_events | sort: 'date' %}
{% assign past_events = past_events | sort: 'date' | reverse %}

{% comment %}Select the most relevant event in priority order{% endcomment %}
{% if today_events.size > 0 %}
  {% assign latest_event = today_events.first %}
{% elsif future_events.size > 0 %}
  {% assign latest_event = future_events.first %}
{% elsif past_events.size > 0 %}
  {% assign latest_event = past_events.first %}
{% else %}
  {% assign latest_event = nil %}
{% endif %}

{% if latest_event %}
<section class="latest-event">
    
    
    <div class="event-feature">
        <div class="home-event-image">
            {% if latest_event.featured_image %}
            <img src="{{ latest_event.featured_image | relative_url }}" alt="{{ latest_event.title }}">
            {% endif %}
        </div>
        
        <div class="event-details">
            <h3 class="event-title">{{ latest_event.title }}</h3>
            <p class="event-date">{{ latest_event.date | date: "%B %d, %Y" }}</p>
            
            <div class="event-description">
                {{ latest_event.content | strip_html | truncatewords: 50 }}
            </div>
                
                {% comment %}
                Check if event is published to determine which button to show
                If published is false (or not set), and rsvp-link exists, show RSVP button
                Otherwise show View Event Details button
                {% endcomment %}
                {% if latest_event.published == false and latest_event.rsvp-link %}
                    <a href="{{ latest_event.rsvp-link }}" class="button" target="_blank">RSVP for Event</a>
                {% elsif latest_event.published == false %}
                    {% comment %}Not published and no RSVP link - show no button{% endcomment %}
                {% else %}
                    {% comment %}Published or published not set (defaults to true) - show normal button{% endcomment %}
                    <a href="{{ latest_event.url | relative_url }}" class="button">View Event Details</a>
                {% endif %}
                
                {% if latest_event.games %}
                <p class="featured-games">
                    Featuring {{ latest_event.games.size }} game{% if latest_event.games.size != 1 %}s{% endif %}
                </p>
                {% endif %}
        </div>
    </div>
</section>
{% endif %}


<section class="upcoming_events">
    {% include upcoming-events.html %}
</section>


<section class="selected_games">
    <h2>Yall's Games</h2>
    
    {% assign all_games = site.games | sort: 'date' | reverse %}
    
    {% if all_games.size > 0 %}
        <div class="games-grid">
            {% assign counter = 0 %}
            {% for game in all_games %}
                {% if counter < 3 %}
            <div class="game-card">
                <a href="{{ game.url | relative_url }}" class="game-link">
                    {% if game.image %}
                    <div class="game-image">
                        <img src="{{ game.image | relative_url }}" alt="{{ game.title }}">
                    </div>
                    {% endif %}
                    
                    <div class="game-details">
                        <h3 class="game-title">{{ game.title }}</h3>
                        
                        {% if game.developer %}
                        <p class="game-developer">By {{ game.developer }}</p>
                        {% endif %}
                        
                        {% if game.date %}
                        <p class="game-date">Featured: {{ game.date | date: "%B %Y" }}</p>
                        {% endif %}
                    </div>
                </a>
            </div>
                    {% assign counter = counter | plus: 1 %}
                {% endif %}
            {% endfor %}
        </div>
    {% else %}
        <p>No games available. Check back soon for new submissions!</p>
    {% endif %}
</section>

<section class="about-section">
    <h2>About Games Y'all</h2>
    <p>Games Y'all is a monthly meetup for indie devs, digital artists, and games fans. We showcase indie games and digital art projects from our local community and beyond. You can come to our meetups to play games, experience digital art, and connect with the local Austin games community.</p>
    
    <div class="cta-buttons">
    <a href="http://fantasticarcade.com/join/hey/" class="button big">Sign up to Volunteer</a>
    <a href="/events/" class="button">Browse All Events</a>
    <a href="/html/Submit-a-game.html" class="button">Submit a Game</a>
    <a href="/html/about-us.html" class="button">Learn More</a>
    </div>
</section>
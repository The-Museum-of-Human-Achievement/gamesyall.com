{% comment %}
Filter events to only show future dates by comparing Unix timestamps
{% endcomment %}
{% assign future_events = "" | split: "" %}
{% assign today_timestamp = site.time | date: "%s" %}

{% for event in site.events %}
  {% assign event_timestamp = event.date | date: "%s" %}
  {% if event_timestamp >= today_timestamp %}
    {% assign future_events = future_events | push: event %}
  {% endif %}
{% endfor %}

{% assign future_events = future_events | sort: 'date' %}

{% if future_events.size > 0 %}
<section class="upcoming_events">
    <h2>Upcoming Events</h2>
    
    <div class="events-list">
        <div class="event-row event-header">
            <div class="event-date">Date</div>
            <div class="event-location">Location</div>
            <div class="event-theme">Theme</div>
        </div>
        
        {% for event in future_events %}
        <div class="event-row">
            <div class="event-date">
                {% if event.date %}
                {{ event.date | date: "%B %d, %Y" }}
                {% endif %}
            </div>
            <div class="event-location">
                {% if event.location %}
                    {% if event.address %}
                        <a href="https://maps.google.com/?q={{ event.address }}">{{ event.location }}</a>
                    {% else %}
                        {{event.location}}
                    {% endif %}
                {% endif %}
            </div>
            <div class="event-theme">
                {% if event.description %}
                {{ event.description }}
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>
</section>
{% endif %}